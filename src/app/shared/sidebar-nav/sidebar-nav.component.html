<nav class="sidebar" [class.collapsed]="isCollapsed">
  <!-- Toggle Button -->
  <button class="sidebar-toggle" (click)="toggleCollapse()">
    <mat-icon>{{ isCollapsed ? 'chevron_right' : 'chevron_left' }}</mat-icon>
  </button>

  <!-- Logo Section -->
  <div class="logo-container">
    <div class="logo">
      <div class="logo-primary">E-learning</div>
      <div class="logo-secondary">college-de-teste</div>
    </div>
  </div>



  <ul class="nav-menu">

    <!-- SECTION ADMIN (Manage Instructors) -->
    <li 
      class="nav-item has-submenu" 
      #submenuItemAdmin 
      (click)="toggleSubmenu($event, submenuItemAdmin)" 
      routerLinkActive="active"
      *ngIf="showInstructorMenu"
    >
      <a class="submenu-trigger">
        <mat-icon class="nav-icon">manage_accounts</mat-icon>
        <span class="nav-text">Instructors</span>
        <mat-icon class="submenu-toggle">expand_more</mat-icon>
      </a>
  
      <ul class="submenu">
        <li routerLinkActive="active">
          <a routerLink="/instructors/all">
            <span class="nav-text">All Instructors</span>
          </a>
        </li>
        <li routerLinkActive="active">
          <a routerLink="/instructors/delete">
            <span class="nav-text">Delete Instructor Access</span>
          </a>
        </li>
      </ul>
    </li>
  
    <!-- SECTION INSTRUCTOR (Manage Courses) -->
    <li 
      class="nav-item has-submenu" 
      #submenuItemCourse 
      (click)="toggleSubmenu($event, submenuItemCourse)" 
      routerLinkActive="active"
      *ngIf="showCourseMenu"
    >
      <a class="submenu-trigger">
        <mat-icon class="nav-icon">library_books</mat-icon>
        <span class="nav-text">Vos Course</span>
        <mat-icon class="submenu-toggle">expand_more</mat-icon>
      </a>
  
      <ul class="submenu">
        <li routerLinkActive="active">
          <a routerLink="/instructors">
            <span class="nav-text">View Courses</span>
          </a>
        </li>
        <li routerLinkActive="active">
          <a routerLink="/courses/addCourse">
            <span class="nav-text">Add Course</span>
          </a>
        </li>
        <li routerLinkActive="active">
          <a routerLink="/courses/update">
            <span class="nav-text">Update Course</span>
          </a>
        </li>
      </ul>
    </li>
  
    <!-- SECTION COMMUNE À TOUS (Courses listes pour tous ou étudiants) -->
    <li class="nav-item" routerLinkActive="active">
      <a routerLink="/courses">
        <mat-icon class="nav-icon">menu_book</mat-icon>
        <span class="nav-text">Courses</span>
      </a>
    </li>
  
    <li class="nav-item" routerLinkActive="active">
      <a routerLink="/progression">
        <mat-icon class="nav-icon">hourglass_top</mat-icon>
        <span class="nav-text">Progress</span>
      </a>
    </li>
  
    <li 
      class="nav-item has-submenu" 
      #submenuItemCategories 
      (click)="toggleSubmenu($event, submenuItemCategories)" 
      routerLinkActive="active"
    >
      <a class="submenu-trigger">
        <mat-icon class="nav-icon">category</mat-icon>
        <span class="nav-text">Categories</span>
        <mat-icon class="submenu-toggle">expand_more</mat-icon>
      </a>
  
      <ul class="submenu">
        <li *ngFor="let category of categoryList" routerLinkActive="active">
          <a [routerLink]="['/categories', category.id]">
            <span class="nav-text">{{ category.nom }}</span>
          </a>
        </li>
      </ul>
    </li>
  
    <li class="nav-item" routerLinkActive="active">
      <a routerLink="/agenda">
        <mat-icon class="nav-icon">event</mat-icon>
        <span class="nav-text">Agenda</span>
      </a>
    </li>
  
    <li class="nav-item" routerLinkActive="active">
      <a routerLink="/notifications" class="nav-link-with-indicator">
        <mat-icon class="nav-icon">notifications</mat-icon>
        <span class="nav-text">Notifications</span>
        <span class="red-dot" *ngIf="unreadCount > 0"></span>
      </a>
    </li>
  
    <li class="nav-item" routerLinkActive="active">
      <a routerLink="/chatbot">
        <mat-icon class="nav-icon">smart_toy</mat-icon>
        <span class="nav-text">Chatbot</span>
      </a>
    </li>
    <li
    class="nav-item"
    routerLinkActive="active"
    *ngIf="showProfileMenu"
  >
    <a routerLink="/profile">
      <mat-icon class="nav-icon">person</mat-icon>
      <span class="nav-text">Profile</span>
    </a>
  </li>
  
  
    <li class="nav-item">
      <a (click)="logout()">
        <mat-icon class="nav-icon">logout</mat-icon>
        <span class="nav-text">Logout</span>
      </a>
    </li>
  
  </ul>
  
  
</nav>